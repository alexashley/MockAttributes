# MockAttributes

[![Build Status](https://travis-ci.org/alexashley/MockAttributes.svg?branch=master)](https://travis-ci.org/alexashley/MockAttributes) | [![NuGet](https://img.shields.io/nuget/dt/MockAttributes.svg)](https://www.nuget.org/packages/MockAttributes/)


Mockito-like annotations for .NET

See [MovieFinderTest](https://github.com/alexashley/MockAttributes/blob/master/MockAttributes.Demo/MovieFinderInjectedPropertiesTest.cs) for a usage example

### Installation
Visual Studio Package Manager console: `Install-Package MockAttributes` 

`dotnet cli`: `nuget install MockAttributes`

### Usage

By default, `MockAttributes` assumes you're using [`Moq`](https://github.com/moq/moq4), so that it can extract the proxy object generated by [`Castle DynamicProxy`](https://github.com/castleproject/Core) and inject it into the class-under-test.

If you're using hand-rolled mocks or your mocking library doesn't wrap a class around the proxy object in the way that `Moq` does, you can pass an instance of `DefaultProxyObjectExtractor` into `MockInjector.Inject`.   

For any other cases, you can implement [`IProxyObjectExtractor`](https://github.com/alexashley/MockAttributes/blob/master/MockAttributes/Extractors/DefaultProxyObjectExtractor.cs).


### WIP
- [x] inject mocks into test class
- [x] inject mocked objects into class-under-test (for `Moq` initially, although could be made more general)
- [x] stand-up class-under-test with mocked objects
- [x] suppress CS0649 ("Field is never assigned to, and will always have its default value null")
- [x] support properties
- [ ] unit tests
- [ ] handle classes with multiple dependencies of the same type
- [ ] fallback to property injection if no suitable constructors are found

